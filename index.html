<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Development Automation</title>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    <link href="css/monokai-sublime.css" rel="stylesheet" type="text/css">
    <link href="css/normalize.css" rel="stylesheet" type="text/css">
    <link href="css/styles.css" rel="stylesheet" type="text/css">
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon">
</head>
<body>
<div id="impress">
    <div id="overview" class="step"  ></div>
    <div id="title" class="step slide"  >
        <div class="slide-text centered">
            <h1>Development Automation with Composer, Robo and Docker</h1>
            <h2>The technology that powers the Ballast project</h2>
            <p>Shawn Duncan, Technical Architect</p>
            <p><a class="dp-link" href="https://www.digitalpulp.com">Digital Pulp</a></p>
        </div>
        <div id="license">
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
                <img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
            </a>
            <span class="footer-text">This work is licensed under a <a rel="license"
                                                                       href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </div>
    </div>
    <div class="step slide" id="intro"  data-rotate-y="180" >
        <h2>Introduction</h2>
        <div class="slide-text">
            <ul>
                <li>Drupal.org: <a href="https://www.drupal.org/u/fathershawn">FatherShawn</a></li>
                <li>Twitter: <a href="https://twitter.com/FatherShawn">@FatherShawn</a></li>
                <li>These slides: <a href="http://talks.shawnduncan.org/automation/">talks.shawnduncan.org/cache_bin</a></li>
            </ul>
        </div>
    </div>
    <div id="dx-overview" class="step slide"  >
        <div class="slide-text centered">
            <h2>Developer Tasks</h2>
        </div>
        <div class="slide-text">
            <ul>
                <li>Classic CMS Needs
                    <ul>
                        <li>Web server</li>
                        <li>Database</li>
                        <li>PHP</li>
                    </ul>
                </li>
                <li>Dependency Management
                    <ul>
                        <li>New frontend tools: npm</li>
                        <li>Javascript libraries (production)</li>
                        <li>Drupal core</li>
                        <li>Drupal contributed modules</li>
                        <li>PHP libraries beyond Drupal</li>
                    </ul>
                </li>
                <li>Sync with a remote server</li>
                <li>Compile the theme</li>
                <li>Manage Drupal from the command line</li>
            </ul>
        </div>
    </div>
    <div id="composer-title" class="step slide"  >
        <div class="slide-text centered">
            <h1>Composer</h1>
            <img src="images/Composer.svg">
        </div>
    </div>
    <div class="step slide"  data-rotate-y="-90">
        <h2>Composer</h2>
        <h3>The hub technology of this project.</h3>
        <div class="slide-text">
            <ul>
                <li>Core purpose is dependency management</li>
                <li>Builds the autoloader</li>
                <li>Event system is the foundation for automation</li>
            </ul>
        </div>
    </div>
    <div class="step slide">
        <h2>Composer</h2>
        <h3>Managing Dependencies</h3>
        <div class="slide-text">
            <span class="code-title">composer.json for Formassembly module</span>
            <div class="scroll">
                <pre><code>
{
  "name": "drupal/formassembly",
  "type": "drupal-module",
  "description": "integrates a Drupal site with the FormAssembly service",
  "keywords": ["Drupal"],
  "license": "GPL-2.0+",
  "authors": [
    {
        "name": "Shawn Duncan",
        "role": "Project Lead"
    }
  ],
  "homepage": "https://www.drupal.org/project/formassembly",
  "minimum-stability": "dev",
  "authors": [
    {
      "name": "Shawn Duncan",
      "homepage": "https://www.drupal.org/u/fathershawn",
      "role": "Developer"
    }
  ],
  "support": {
    "issues": "https://www.drupal.org/project/issues/formassembly",
    "source": "http://cgit.drupalcode.org/formassembly"
  },
  "require": {
    "fathershawn/oauth2-formassembly": "^1.0"
  }
}
                </code></pre>
                The key section for dependency is the <em>require</em> section.  Let's follow the chain...
            </div>
        </div>
    </div>
    <div class="step slide">
        <h2>Composer</h2>
        <h3>Managing Dependencies</h3>
        <div class="slide-text">
            <span class="code-title">composer.json for fathershawn/oauth2-formassembly</span>
            <div class="scroll">
                <pre><code>
{
  "name": "fathershawn/oauth2-formassembly",
  "description": "FormAssembly OAuth 2.0 Client Provider for The PHP League OAuth2-Client",
  "license": "GPL-2.0-or-later",
  "authors": [
    {
      "name": "Shawn P. Duncan",
      "email": "code@sd.shawnduncan.org",
      "homepage": "https://github.com/FatherShawn"
    }
  ],
  "keywords": [
    "oauth",
    "oauth2",
    "client",
    "authorization",
    "authentication",
    "formassembly"
  ],
  "require": {
    "php": "^5.6 || ^7.0",
    "league/oauth2-client": "^2.0"
  },
  "require-dev": {
    "phpunit/phpunit": "~4.0",
    "mockery/mockery": "~0.9",
    "squizlabs/php_codesniffer": "~2.0"
  },
  "autoload": {
    "psr-4": {
      "Fathershawn\\OAuth2\\Client\\": "src/"
    }
  }
}
                </code></pre>
                I needed oauth2 to authenticate with Formassembly.  Rather than write all that myself, all I created was
                a provider plugin for the League of Extraordinary Packages oauth library.
            </div>
        </div>
    </div>
    <div id="robo" class="step slide"  >
        <div class="slide-text centered">
            <h1>Robo</h1>
        </div>
    </div>
    <div class="step slide"  data-rotate-y="-90">
        <h2>Robo</h2>
        <div class="slide-text">
            <ul>

            </ul>
        </div>
    </div>
    <div id="render-cache" class="step slide"  >
        <div class="slide-text centered">
            <h1>Docker</h1>
        </div>
    </div>
   <div class="step slide"  data-rotate-y="-90">
        <h2>Render Arrays and Cache</h2>
        <div class="slide-text">
            <ul>
                <li><a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Render%21Renderer.php/function/Renderer%3A%3AaddCacheableDependency/8.1.x">Renderer::addCacheableDependency</a> for the win!</li>
                <li>Set your context directly.</li>
                <li>Still have time based cache available.</li>
            </ul>
<pre><code>
<span style="color:#3e87e3">$render_array</span> <span style="color:#e28964">=</span> (
    <span style="color:#65b042">'#cache => array(
        '</span><span style="color:#3387cc">max</span><span style="color:#e28964">-</span><span style="color:#3387cc">age</span><span style="color:#65b042">' => 0,
        '</span><span style="color:#3387cc">tags</span><span style="color:#65b042">' => array(),
        '</span><span style="color:#3387cc">contexts</span><span style="color:#65b042">' => array(),
    );
);</span>
</code></pre>
        </div>
    </div>
    <div id="prevent-cache" class="step slide" >
        <div class="slide-text centered">
            <h1>Ahoy</h1>
            <h2>An abstraction layer for DX</h2>
        </div>
    </div>
    <div class="step slide"  data-rotate-y="90">
        <h2 class="">Blocking Cache</h2>
        <div class="slide-text">
            <ul>
            </ul>
        </div>
    </div>
    <div id="resources" class="step slide"  >
        <div class="slide-text centered">
            <h1>Resources</h1>
        </div>
    </div>
    <div class="step slide"  data-rotate-y="-90">
        <h2>Resources</h2>
        <div class="slide-text">
            <dl id="resource-links">
            </dl>
        </div>
    </div>
    <div id="questions" class="step slide" >
        <h2>Open Q & A</h2>
        <div class="slide-text">
            <h3>&OpenCurlyDoubleQuote;An infinite mystery is the Force.&CloseCurlyDoubleQuote;</h3>
            <img id="yoda" src="images/Yoda_Attack_of_the_Clones.png">
            <h3>&OpenCurlyDoubleQuote;The more we learn, the more we discover how much we do not
                know.&CloseCurlyDoubleQuote;</h3>
        </div>
    </div>
</div>
<script src="js/impress.js"></script>
<script src="js/highlight.pack.js"></script>
<!--<script>impress().init();</script>-->
</body>
</html>